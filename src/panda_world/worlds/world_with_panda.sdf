<?xml version="1.0" ?>
<sdf version="1.10">
  <world name="panda_world">

    <plugin name="gz::sim::systems::Physics" filename="gz-sim-physics-system">
    </plugin>

    <plugin name="gz::sim::systems::UserCommands" filename="gz-sim-user-commands-system" />
    <plugin name="gz::sim::systems::SceneBroadcaster" filename="gz-sim-scene-broadcaster-system" />
    <plugin filename="gz-sim-forcetorque-system" name="gz::sim::systems::ForceTorque" />
    <plugin
     filename="gz-sim-sensors-system"
     name="gz::sim::systems::Sensors">
     <render_engine>ogre2</render_engine>
    </plugin>

    <physics type="ode">
      <max_step_size>0.0001</max_step_size>
      <real_time_factor>1</real_time_factor>
      <real_time_update_rate>10000</real_time_update_rate>
    </physics>


    <!-- Ambient Light -->
    <scene>
      <ambient>0.4 0.4 0.4 1</ambient>
      <background>0.7 0.8 1.0 1</background>
    </scene>


    <!-- Light source -->
    <light name="sun" type="directional">
      <cast_shadows>true</cast_shadows>
      <pose>0 0 10 0 0 1.57 </pose>
      <diffuse>1 1 1 1</diffuse>
      <specular>0.1 0.1 0.1 1</specular>
      <attenuation>
        <range>1000</range>
        <constant>0.9</constant>
        <linear>0.01</linear>
        <quadratic>0.001</quadratic>
      </attenuation>
      <direction>-0.5 0.5 -1</direction>
    </light>

    <!-- Ground plane -->
    <include>
      <uri>
      https://fuel.gazebosim.org/1.0/OpenRobotics/models/Ground Plane
      </uri>
    </include>

  <model name="simple_table">
    <static>true</static>

    <!-- Table top -->
    <link name="table_top">
      <pose>0 0 0.75 0 0 0</pose>
      <collision name="table_top_collision">
        <geometry>
          <box>
            <size>1.2 0.8 0.05</size>
          </box>
        </geometry>
      </collision>
      <visual name="table_top_visual">
        <geometry>
          <box>
            <size>1.2 0.8 0.05</size>
          </box>
        </geometry>
        <material>
          <ambient>0.7 0.4 0.2 1</ambient>
          <diffuse>0.7 0.4 0.2 1</diffuse>
        </material>
      </visual>
      <inertial>
        <mass>5.0</mass>
        <inertia>
          <ixx>0.1</ixx>
          <iyy>0.1</iyy>
          <izz>0.1</izz>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyz>0</iyz>
        </inertia>
      </inertial>
    </link>

    <!-- Four legs -->
    <link name="leg_1">
      <pose>0.55 0.35 0.375 0 0 0</pose>
      <collision name="leg_1_collision">
        <geometry>
          <cylinder>
            <radius>0.03</radius>
            <length>0.75</length>
          </cylinder>
        </geometry>
      </collision>
      <visual name="leg_1_visual">
        <geometry>
          <cylinder>
            <radius>0.03</radius>
            <length>0.75</length>
          </cylinder>
        </geometry>
        <material>
          <ambient>0.4 0.25 0.1 1</ambient>
          <diffuse>0.4 0.25 0.1 1</diffuse>
        </material>
      </visual>
      <inertial>
        <mass>1.0</mass>
        <inertia>
          <ixx>0.01</ixx>
          <iyy>0.01</iyy>
          <izz>0.01</izz>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyz>0</iyz>
        </inertia>
      </inertial>
    </link>

    <link name="leg_2">
      <pose>0.55 -0.35 0.375 0 0 0</pose>
      <collision name="leg_2_collision">
        <geometry>
          <cylinder>
            <radius>0.03</radius>
            <length>0.75</length>
          </cylinder>
        </geometry>
      </collision>
      <visual name="leg_2_visual">
        <geometry>
          <cylinder>
            <radius>0.03</radius>
            <length>0.75</length>
          </cylinder>
        </geometry>
        <material>
          <ambient>0.4 0.25 0.1 1</ambient>
          <diffuse>0.4 0.25 0.1 1</diffuse>
        </material>
      </visual>
      <inertial>
        <mass>1.0</mass>
        <inertia>
          <ixx>0.01</ixx>
          <iyy>0.01</iyy>
          <izz>0.01</izz>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyz>0</iyz>
        </inertia>
      </inertial>
    </link>

    <link name="leg_3">
      <pose>-0.55 0.35 0.375 0 0 0</pose>
      <collision name="leg_3_collision">
        <geometry>
          <cylinder>
            <radius>0.03</radius>
            <length>0.75</length>
          </cylinder>
        </geometry>
      </collision>
      <visual name="leg_3_visual">
        <geometry>
          <cylinder>
            <radius>0.03</radius>
            <length>0.75</length>
          </cylinder>
        </geometry>
        <material>
          <ambient>0.4 0.25 0.1 1</ambient>
          <diffuse>0.4 0.25 0.1 1</diffuse>
        </material>
      </visual>
      <inertial>
        <mass>1.0</mass>
        <inertia>
          <ixx>0.01</ixx>
          <iyy>0.01</iyy>
          <izz>0.01</izz>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyz>0</iyz>
        </inertia>
      </inertial>
    </link>

    <link name="leg_4">
      <pose>-0.55 -0.35 0.375 0 0 0</pose>
      <collision name="leg_4_collision">
        <geometry>
          <cylinder>
            <radius>0.03</radius>
            <length>0.75</length>
          </cylinder>
        </geometry>
      </collision>
      <visual name="leg_4_visual">
        <geometry>
          <cylinder>
            <radius>0.03</radius>
            <length>0.75</length>
          </cylinder>
        </geometry>
        <material>
          <ambient>0.4 0.25 0.1 1</ambient>
          <diffuse>0.4 0.25 0.1 1</diffuse>
        </material>
      </visual>
      <inertial>
        <mass>1.0</mass>
        <inertia>
          <ixx>0.01</ixx>
          <iyy>0.01</iyy>
          <izz>0.01</izz>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyz>0</iyz>
        </inertia>
      </inertial>
    </link>
  </model>

  <model name="rgbd_camera">
    <pose>0 2 1 0 0 -1.57</pose>
    <link name="rgbd_camera_link">
      <pose>0.05 0.05 0.05 0 0 0</pose>
      <inertial>
        <mass>0.1</mass>
        <inertia>
          <ixx>0.000166667</ixx>
          <iyy>0.000166667</iyy>
          <izz>0.000166667</izz>
        </inertia>
      </inertial>
      <collision name="collision">
        <geometry>
          <box>
            <size>0.1 0.1 0.1</size>
          </box>
        </geometry>
      </collision>
      <visual name="visual">
        <geometry>
          <box>
            <size>0.1 0.1 0.1</size>
          </box>
        </geometry>
      </visual>
      <sensor name="rgbd_camera" type="rgbd_camera">
        <update_rate>10</update_rate>
        <topic>rgbd_camera</topic>
        <camera>
          <horizontal_fov>1.05</horizontal_fov>
          <image>
            <width>256</width>
            <height>256</height>
            <format>R_FLOAT32</format>
          </image>
          <clip>
            <near>0.1</near>
            <far>10.0</far>
          </clip>
        </camera>
        </sensor>
    </link>
    <static>true</static>
  </model>

  <model name="room">
    <static>true</static>
    <link name="wall_front">
      <collision name="collision">
        <geometry>
          <box>
            <size>10.0 0.1 10.0</size> 
          </box>
        </geometry>
      </collision>
      <visual name="visual">
        <geometry>
          <box>
            <size>10.0 0.1 10.0</size> 
          </box>
        </geometry>
        <material>
          <ambient>0.6 0.6 0.6 1</ambient>
          <diffuse>0.7 0.7 0.7 1</diffuse>
        </material>
      </visual>
      <pose>0 -3 0.5.0 0 0 0</pose> 
    </link>

    <link name="wall_left">
      <collision name="collision">
        <geometry>
          <box>
            <size>10.0 0.1 3.0</size> 
          </box>
        </geometry>
      </collision>
      <visual name="visual">
        <geometry>
          <box>
            <size>10.0 0.1 3.0</size> 
          </box>
        </geometry>
        <material>
          <ambient>0.6 0.6 0.6 1</ambient>
          <diffuse>0.7 0.7 0.7 1</diffuse>
        </material>
      </visual>
      <pose>5 0 0.5.0 0 0 1.57</pose> 
    </link>

    <link name="wall_right">
      <collision name="collision">
        <geometry>
          <box>
            <size>10.0 0.1 3.0</size> 
          </box>
        </geometry>
      </collision>
      <visual name="visual">
        <geometry>
          <box>
            <size>10.0 0.1 3.0</size> 
          </box>
        </geometry>
        <material>
          <ambient>0.6 0.6 0.6 1</ambient>
          <diffuse>0.7 0.7 0.7 1</diffuse>
        </material>
      </visual>
      <pose>-5 0 0.5.0 0 0 1.57</pose> 
    </link>
  </model>

  <!-- <actor name="actor"> -->
  <!--    <skin> -->
  <!--       <filename>../../panda_world/meshes/actors/walk.dae</filename> -->
  <!--       <scale>1.0</scale> -->
  <!--    </skin> -->
  <!--    <pose>0.5 -2 1 0 0 0</pose> -->
  <!--    <animation name="walking"> -->
  <!--       <filename>../../panda_world/meshes/actors/walk.dae</filename> -->
  <!--       <scale>1.000000</scale> -->
  <!--       <interpolate_x>true</interpolate_x> -->
  <!--    </animation> -->
  <!--    <script> -->
  <!--       <loop>true</loop> -->
  <!--       <delay_start>0.000000</delay_start> -->
  <!--       <auto_start>true</auto_start> -->
  <!--       <trajectory id="0" type="walking"> -->
  <!--          <waypoint> -->
  <!--             <time>0.000000</time> -->
  <!--             <pose>0.000000 1.000000 0.000000 0.000000 0.000000 0.000000</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>0.500000</time> -->
  <!--             <pose>0.195090 0.980785 0.000000 0.000000 0.000000 -0.196350</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>1.000000</time> -->
  <!--             <pose>0.382683 0.923880 0.000000 0.000000 0.000000 -0.392699</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>1.500000</time> -->
  <!--             <pose>0.555570 0.831470 0.000000 0.000000 0.000000 -0.589049</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>2.000000</time> -->
  <!--             <pose>0.707107 0.707107 0.000000 0.000000 0.000000 -0.785398</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>2.500000</time> -->
  <!--             <pose>0.831470 0.555570 0.000000 0.000000 0.000000 -0.981748</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>3.000000</time> -->
  <!--             <pose>0.923880 0.382683 0.000000 0.000000 0.000000 -1.178100</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>3.500000</time> -->
  <!--             <pose>0.980785 0.195090 0.000000 0.000000 0.000000 -1.374450</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>4.000000</time> -->
  <!--             <pose>1.000000 0.000000 0.000000 0.000000 0.000000 -1.570800</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>4.500000</time> -->
  <!--             <pose>0.980785 -0.195090 0.000000 0.000000 0.000000 -1.767150</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>5.000000</time> -->
  <!--             <pose>0.923880 -0.382683 0.000000 0.000000 0.000000 -1.963500</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>5.500000</time> -->
  <!--             <pose>0.831470 -0.555570 0.000000 0.000000 0.000000 -2.159840</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>6.000000</time> -->
  <!--             <pose>0.707107 -0.707107 0.000000 0.000000 0.000000 -2.356190</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>6.500000</time> -->
  <!--             <pose>0.555570 -0.831470 0.000000 0.000000 0.000000 -2.552540</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>7.500000</time> -->
  <!--             <pose>0.382683 -0.923880 0.000000 0.000000 0.000000 -2.748890</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>8.500000</time> -->
  <!--             <pose>0.195090 -0.980785 0.000000 0.000000 0.000000 -2.945240</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>9.500000</time> -->
  <!--             <pose>0.000000 -1.000000 0.000000 0.000000 0.000000 -3.141590</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>10.500000</time> -->
  <!--             <pose>-0.195090 -0.980785 0.000000 0.000000 0.000000 2.945245</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>11.500000</time> -->
  <!--             <pose>-0.382683 -0.923880 0.000000 0.000000 0.000000 2.748895</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>12.000000</time> -->
  <!--             <pose>-0.555570 -0.831470 0.000000 0.000000 0.000000 2.552545</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>12.500000</time> -->
  <!--             <pose>-0.707107 -0.707107 0.000000 0.000000 0.000000 2.356195</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>13.000000</time> -->
  <!--             <pose>-0.831470 -0.555570 0.000000 0.000000 0.000000 2.159845</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>13.500000</time> -->
  <!--             <pose>-0.923880 -0.382683 0.000000 0.000000 0.000000 1.963495</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>14.000000</time> -->
  <!--             <pose>-0.980785 -0.195090 0.000000 0.000000 0.000000 1.767145</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>14.500000</time> -->
  <!--             <pose>-1.000000 0.000000 0.000000 0.000000 0.000000 1.570795</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>15.000000</time> -->
  <!--             <pose>-0.980785 0.195090 0.000000 0.000000 0.000000 1.374445</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>15.500000</time> -->
  <!--             <pose>-0.923880 0.382683 0.000000 0.000000 0.000000 1.178095</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>16.000000</time> -->
  <!--             <pose>-0.831470 0.555570 0.000000 0.000000 0.000000 0.981745</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>16.500000</time> -->
  <!--             <pose>-0.707107 0.707107 0.000000 0.000000 0.000000 0.785395</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>17.000000</time> -->
  <!--             <pose>-0.555570 0.831470 0.000000 0.000000 0.000000 0.589045</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>17.500000</time> -->
  <!--             <pose>-0.382683 0.923880 0.000000 0.000000 0.000000 0.392695</pose> -->
  <!--          </waypoint> -->
  <!--          <waypoint> -->
  <!--             <time>18.000000</time> -->
  <!--             <pose>-0.195090 0.980785 0.000000 0.000000 0.000000 0.196345</pose> -->
  <!--          </waypoint> -->
  <!--       </trajectory> -->
  <!--    </script> -->
  <!-- </actor> -->

  <model name='fr3'>
    <joint name='world_joint' type='fixed'>
      <pose relative_to='__model__'>0 0 0.75 0 0 0</pose>
      <parent>world</parent>
      <child>fr3_link0</child>
    </joint>
    <link name='fr3_link0'>
      <pose relative_to='world_joint'>0 0 0 0 0 0</pose>
      <inertial>
        <pose>-0.0172 0.00040000000000000002 0.074499999999999997 0 0 0</pose>
        <mass>2.3965999999999998</mass>
        <inertia>
          <ixx>0.0089999999999999993</ixx>
          <ixy>0</ixy>
          <ixz>0.002</ixz>
          <iyy>0.0115</iyy>
          <iyz>0</iyz>
          <izz>0.0085000000000000006</izz>
        </inertia>
      </inertial>
      <collision name='fr3_link0_collision_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/collision/link0.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='fr3_link0_visual_visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/visual/link0.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='fr3_joint1' type='revolute'>
      <pose relative_to='fr3_link0'>0 0 0.33300000000000002 0 0 0</pose>
      <parent>fr3_link0</parent>
      <child>fr3_link1</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-2.8973</lower>
          <upper>2.8973</upper>
          <effort>87</effort>
          <velocity>2.1749999999999998</velocity>
        </limit>
        <dynamics>
          <damping>0.0030000000000000001</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
      <physics>
        <ode>
          <limit>
            <cfm>0</cfm>
            <erp>0.20000000000000001</erp>
          </limit>
        </ode>
      </physics>
      <sensor name='torque_sensor1' type='force_torque'>
        <pose>0 0 0 0 0 0</pose>
        <update_rate>1000</update_rate>
        <always_on>true</always_on>
        <visualize>true</visualize>
        <topic>fr3_joint1/force_torque_sensor</topic>
        <force_torque>
          <frame>child</frame>
          <measure_direction>parent_to_child</measure_direction>
        </force_torque>
      </sensor>
    </joint>
    <link name='fr3_link1'>
      <pose relative_to='fr3_joint1'>0 0 0 0 0 0</pose>
      <inertial>
        <pose>4.1279999999999999e-07 -0.018125132400000001 -0.038603597000000003 0 0 0</pose>
        <mass>2.9274653453999999</mass>
        <inertia>
          <ixx>0.023927316485107909</ixx>
          <ixy>1.331790345571408e-05</ixy>
          <ixz>-0.0001140477491861668</ixz>
          <iyy>0.022482161327575599</iyy>
          <iyz>-0.0019950320628240111</iyz>
          <izz>0.0063500982585300162</izz>
        </inertia>
      </inertial>
      <collision name='fr3_link1_collision_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/collision/link1.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='fr3_link1_visual_visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/visual/link1.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='fr3_joint2' type='revolute'>
      <pose relative_to='fr3_link1'>0 0 0 -1.570796326794897 0 0</pose>
      <parent>fr3_link1</parent>
      <child>fr3_link2</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-1.7627999999999999</lower>
          <upper>1.7627999999999999</upper>
          <effort>87</effort>
          <velocity>2.1749999999999998</velocity>
        </limit>
        <dynamics>
          <damping>0.0030000000000000001</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
      <physics>
        <ode>
          <limit>
            <cfm>0</cfm>
            <erp>0.20000000000000001</erp>
          </limit>
        </ode>
      </physics>
      <sensor name='torque_sensor2' type='force_torque'>
        <pose>0 0 0 0 0 0</pose>
        <update_rate>1000</update_rate>
        <always_on>true</always_on>
        <visualize>true</visualize>
        <topic>fr3_joint2/force_torque_sensor</topic>
        <force_torque>
          <frame>child</frame>
          <measure_direction>parent_to_child</measure_direction>
        </force_torque>
      </sensor>
    </joint>
    <link name='fr3_link2'>
      <pose relative_to='fr3_joint2'>0 0 0 0 0 0</pose>
      <inertial>
        <pose>0.0031828863999999999 -0.074322164400000001 0.0088146084 0 0 0</pose>
        <mass>2.9355370338000002</mass>
        <inertia>
          <ixx>0.041938946257609418</ixx>
          <ixy>0.00020257331521090631</ixy>
          <ixz>0.0040777842271799243</ixz>
          <iyy>0.02514514885014724</iyy>
          <iyz>-0.0042252158006570164</iyz>
          <izz>0.061702144728888388</izz>
        </inertia>
      </inertial>
      <collision name='fr3_link2_collision_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/collision/link2.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='fr3_link2_visual_visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/visual/link2.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='fr3_joint3' type='revolute'>
      <pose relative_to='fr3_link2'>0 -0.316 0 1.570796326794897 0 0</pose>
      <parent>fr3_link2</parent>
      <child>fr3_link3</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-2.8973</lower>
          <upper>2.8973</upper>
          <effort>87</effort>
          <velocity>2.1749999999999998</velocity>
        </limit>
        <dynamics>
          <damping>0.0030000000000000001</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
      <physics>
        <ode>
          <limit>
            <cfm>0</cfm>
            <erp>0.20000000000000001</erp>
          </limit>
        </ode>
      </physics>
      <sensor name='torque_sensor3' type='force_torque'>
        <pose>0 0 0 0 0 0</pose>
        <update_rate>1000</update_rate>
        <always_on>true</always_on>
        <visualize>true</visualize>
        <topic>fr3_joint3/force_torque_sensor</topic>
        <force_torque>
          <frame>child</frame>
          <measure_direction>parent_to_child</measure_direction>
        </force_torque>
      </sensor>
    </joint>
    <link name='fr3_link3'>
      <pose relative_to='fr3_joint3'>0 0 0 0 0 0</pose>
      <inertial>
        <pose>0.040701568600000002 -0.0048200565000000003 -0.028973082300000001 0 0 0</pose>
        <mass>2.2449013699</mass>
        <inertia>
          <ixx>0.024101425472408851</ixx>
          <ixy>0.0024046945590421088</ixy>
          <ixz>-0.0028562692701143131</ixz>
          <iyy>0.01974053266708178</iyy>
          <iyz>-0.002104212683891874</iyz>
          <izz>0.019044494482244819</izz>
        </inertia>
      </inertial>
      <collision name='fr3_link3_collision_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/collision/link3.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='fr3_link3_visual_visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/visual/link3.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='fr3_joint4' type='revolute'>
      <pose relative_to='fr3_link3'>0.082500000000000004 0 0 1.570796326794897 0 0</pose>
      <parent>fr3_link3</parent>
      <child>fr3_link4</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-3.0718000000000001</lower>
          <upper>-0.069800000000000001</upper>
          <effort>87</effort>
          <velocity>2.1749999999999998</velocity>
        </limit>
        <dynamics>
          <damping>0.0030000000000000001</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
      <physics>
        <ode>
          <limit>
            <cfm>0</cfm>
            <erp>0.20000000000000001</erp>
          </limit>
        </ode>
      </physics>
      <sensor name='torque_sensor4' type='force_torque'>
        <pose>0 0 0 0 0 0</pose>
        <update_rate>1000</update_rate>
        <always_on>true</always_on>
        <visualize>true</visualize>
        <topic>fr3_joint4/force_torque_sensor</topic>
        <force_torque>
          <frame>child</frame>
          <measure_direction>parent_to_child</measure_direction>
        </force_torque>
      </sensor>
    </joint>
    <link name='fr3_link4'>
      <pose relative_to='fr3_joint4'>0 0 0 0 0 0</pose>
      <inertial>
        <pose>-0.045910096499999997 0.063049296000000005 -0.0085187868000000007 0 0 0</pose>
        <mass>2.6155955790999998</mass>
        <inertia>
          <ixx>0.034529983219132018</ixx>
          <ixy>0.01322552265982813</ixy>
          <ixz>0.010151429984841131</ixz>
          <iyy>0.028881621933049061</iyy>
          <iyz>-0.00097628338707045521</iyz>
          <izz>0.041254711711466413</izz>
        </inertia>
      </inertial>
      <collision name='fr3_link4_collision_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/collision/link4.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='fr3_link4_visual_visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/visual/link4.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='fr3_joint5' type='revolute'>
      <pose relative_to='fr3_link4'>-0.082500000000000004 0.38400000000000001 0 -1.570796326794897 0 0</pose>
      <parent>fr3_link4</parent>
      <child>fr3_link5</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-2.8973</lower>
          <upper>2.8973</upper>
          <effort>12</effort>
          <velocity>2.6099999999999999</velocity>
        </limit>
        <dynamics>
          <damping>0.0030000000000000001</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
      <physics>
        <ode>
          <limit>
            <cfm>0</cfm>
            <erp>0.20000000000000001</erp>
          </limit>
        </ode>
      </physics>
      <sensor name='torque_sensor5' type='force_torque'>
        <pose>0 0 0 0 0 0</pose>
        <update_rate>1000</update_rate>
        <always_on>true</always_on>
        <visualize>true</visualize>
        <topic>fr3_joint5/force_torque_sensor</topic>
        <force_torque>
          <frame>child</frame>
          <measure_direction>parent_to_child</measure_direction>
        </force_torque>
      </sensor>
    </joint>
    <link name='fr3_link5'>
      <pose relative_to='fr3_joint5'>0 0 0 0 0 0</pose>
      <inertial>
        <pose>-0.0016039604999999999 0.029253626200000001 -0.097296598999999998 0 0 0</pose>
        <mass>2.3271207594000001</mass>
        <inertia>
          <ixx>0.051610278463662902</ixx>
          <ixy>-0.0057151733877834716</ixy>
          <ixz>-0.0035673167625872131</ixz>
          <iyy>0.047877297133714809</iyy>
          <iyz>0.01067398510853599</iyz>
          <izz>0.01642362557935725</izz>
        </inertia>
      </inertial>
      <collision name='fr3_link5_collision_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/collision/link5.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='fr3_link5_visual_visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/visual/link5.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='fr3_joint6' type='revolute'>
      <pose relative_to='fr3_link5'>0 0 0 1.570796326794897 0 0</pose>
      <parent>fr3_link5</parent>
      <child>fr3_link6</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-0.017500000000000002</lower>
          <upper>3.7524999999999999</upper>
          <effort>12</effort>
          <velocity>2.6099999999999999</velocity>
        </limit>
        <dynamics>
          <damping>0.0030000000000000001</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
      <physics>
        <ode>
          <limit>
            <cfm>0</cfm>
            <erp>0.20000000000000001</erp>
          </limit>
        </ode>
      </physics>
      <sensor name='torque_sensor6' type='force_torque'>
        <pose>0 0 0 0 0 0</pose>
        <update_rate>1000</update_rate>
        <always_on>true</always_on>
        <visualize>true</visualize>
        <topic>fr3_joint6/force_torque_sensor</topic>
        <force_torque>
          <frame>child</frame>
          <measure_direction>parent_to_child</measure_direction>
        </force_torque>
      </sensor>
    </joint>
    <link name='fr3_link6'>
      <pose relative_to='fr3_joint6'>0 0 0 0 0 0</pose>
      <inertial>
        <pose>0.059713122100000002 -0.041029466600000002 -0.010169272599999999 0 0 0</pose>
        <mass>1.8170376524</mass>
        <inertia>
          <ixx>0.005412333594383447</ixx>
          <ixy>0.0061934563602858341</ixy>
          <ixz>0.001421928930611765</ixz>
          <iyy>0.014058329545509981</iyy>
          <iyz>-0.0013140753741120029</iyz>
          <izz>0.016080817924212551</izz>
        </inertia>
      </inertial>
      <collision name='fr3_link6_collision_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/collision/link6.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='fr3_link6_visual_visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/visual/link6.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='fr3_joint7' type='revolute'>
      <pose relative_to='fr3_link6'>0.087999999999999995 0 0 1.570796326794897 0 0</pose>
      <parent>fr3_link6</parent>
      <child>fr3_link7</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-2.8973</lower>
          <upper>2.8973</upper>
          <effort>12</effort>
          <velocity>2.6099999999999999</velocity>
        </limit>
        <dynamics>
          <damping>0.0030000000000000001</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
      <physics>
        <ode>
          <limit>
            <cfm>0</cfm>
            <erp>0.20000000000000001</erp>
          </limit>
        </ode>
      </physics>
      <sensor name='torque_sensor7' type='force_torque'>
        <pose>0 0 0 0 0 0</pose>
        <update_rate>1000</update_rate>
        <always_on>true</always_on>
        <visualize>true</visualize>
        <topic>fr3_joint7/force_torque_sensor</topic>
        <force_torque>
          <frame>child</frame>
          <measure_direction>parent_to_child</measure_direction>
        </force_torque>
      </sensor>
    </joint>
    <link name='fr3_link7'>
      <pose relative_to='fr3_joint7'>0 0 0 0 0 0</pose>
      <inertial>
        <pose>0.0045225817000000001 0.0086261920999999991 -0.016163325100000001 0 0 0</pose>
        <mass>0.62714328620000004</mass>
        <inertia>
          <ixx>0.00021092389150104721</ixx>
          <ixy>-2.433299114461931e-05</ixy>
          <ixz>4.5644803937789833e-05</ixz>
          <iyy>0.00017718568002411469</iyy>
          <iyz>8.7440702232264379e-05</iyz>
          <izz>5.9931905996599709e-05</izz>
        </inertia>
      </inertial>
      <collision name='fr3_link7_collision_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/collision/link7.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='fr3_link7_visual_visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>../meshes/robot_arms/fr3/visual/link7.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <plugin name='gz::sim::systems::JointStatePublisher' filename='gz-sim-joint-state-publisher-system'>
      <joint_name>fr3_joint1</joint_name>
      <joint_name>fr3_joint2</joint_name>
      <joint_name>fr3_joint3</joint_name>
      <joint_name>fr3_joint4</joint_name>
      <joint_name>fr3_joint5</joint_name>
      <joint_name>fr3_joint6</joint_name>
      <joint_name>fr3_joint7</joint_name>
    </plugin>
    <plugin name='gz::sim::systems::JointController' filename='gz-sim-joint-controller-system'>
      <joint_name>fr3_joint1</joint_name>
      <topic>/model/panda/joint/fr3_joint1/cmd_force</topic>
      <use_force_commands>true</use_force_commands>
    </plugin>
    <plugin name='gz::sim::systems::JointController' filename='gz-sim-joint-controller-system'>
      <joint_name>fr3_joint2</joint_name>
      <topic>/model/panda/joint/fr3_joint2/cmd_force</topic>
      <use_force_commands>true</use_force_commands>
    </plugin>
    <plugin name='gz::sim::systems::JointController' filename='gz-sim-joint-controller-system'>
      <joint_name>fr3_joint3</joint_name>
      <topic>/model/panda/joint/fr3_joint3/cmd_force</topic>
      <use_force_commands>true</use_force_commands>
    </plugin>
    <plugin name='gz::sim::systems::JointController' filename='gz-sim-joint-controller-system'>
      <joint_name>fr3_joint4</joint_name>
      <topic>/model/panda/joint/fr3_joint4/cmd_force</topic>
      <use_force_commands>true</use_force_commands>
    </plugin>
    <plugin name='gz::sim::systems::JointController' filename='gz-sim-joint-controller-system'>
      <joint_name>fr3_joint5</joint_name>
      <topic>/model/panda/joint/fr3_joint5/cmd_force</topic>
      <use_force_commands>true</use_force_commands>
    </plugin>
    <plugin name='gz::sim::systems::JointController' filename='gz-sim-joint-controller-system'>
      <joint_name>fr3_joint6</joint_name>
      <topic>/model/panda/joint/fr3_joint6/cmd_force</topic>
      <use_force_commands>true</use_force_commands>
    </plugin>
    <plugin name='gz::sim::systems::JointController' filename='gz-sim-joint-controller-system'>
      <joint_name>fr3_joint7</joint_name>
      <topic>/model/panda/joint/fr3_joint7/cmd_force</topic>
      <use_force_commands>true</use_force_commands>
    </plugin>
  </model>


  </world>
</sdf>
